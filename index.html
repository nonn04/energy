<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>中学生エネルギー計算ツール</title>
<style>
  body{margin:0;font-family:'Hiragino Maru Gothic Pro','Rounded Mplus 1c',sans-serif;background:#fffaf0;color:#333;font-size:1.1rem}
  .wrap{max-width:1100px;margin:20px auto;padding:20px}
  h1{text-align:center;font-size:2.2rem;background:linear-gradient(90deg,#ffa500,#ffc966);-webkit-background-clip:text;color:transparent;margin-bottom:16px}
  .card{background:#fff;border-radius:14px;padding:20px;box-shadow:0 8px 24px rgba(255,165,0,0.1);display:flex;flex-wrap:wrap;gap:20px;justify-content:space-between;}

  .input-section, .result-section{flex:1 1 45%;min-width:300px}

  .form-row{display:flex;flex-wrap:wrap;gap:20px;margin-bottom:15px;align-items:flex-end}
  .col{display:flex;flex-direction:column;flex:1 1 150px;min-width:120px}
  label{display:block;font-weight:700;margin-bottom:6px;font-size:1.1rem}
  input[type=number], select{width:100%;max-width:130px;padding:10px;border-radius:10px;border:2px solid #ffd6a5;font-size:1.1rem}

  .activity-list{display:flex;flex-direction:column;gap:12px;margin-top:12px}
  .act-item{display:flex;align-items:flex-start;gap:10px;padding:12px;border-radius:10px;border:2px solid transparent;cursor:pointer}
  .act-item input{margin-top:4px;transform:scale(1.2)}
  .act-item label{font-weight:700;cursor:pointer;font-size:1.1rem}
  .act-desc{font-size:1rem;color:#666;margin-top:4px}
  .act-item:hover{background:#fff7eb;border-color:#ffd6a5}

  .result-box{padding:16px;border-radius:10px;margin-bottom:20px;}
  .current-box{background:#fff8e1;border:2px dashed #ffa500;}
  .ideal-box{background:#fffde7;border:2px dashed #ffd633;}
  .section-title{font-weight:800;margin-bottom:8px;color:#c86300;font-size:1.3rem}
  .daily-energy{font-size:2rem;font-weight:900;background:linear-gradient(90deg,#ffa500,#ffc966);-webkit-background-clip:text;color:transparent}
  .meal-energy{font-size:2rem;font-weight:900;margin-top:8px;background:linear-gradient(90deg,#ffa500,#ffc966);-webkit-background-clip:text;color:transparent}
  .calc-info{font-size:0.9rem;color:#666;margin-top:6px}

  .important{margin-top:16px;padding:16px;border-radius:10px;background:#fff8e1;border:2px dashed #ffa500;color:#c86300;font-weight:800;text-align:center;font-size:1.1rem}

  @media(max-width:900px){.card{flex-direction:column}.daily-energy{font-size:1.8rem}.meal-energy{font-size:1.8rem}}
</style>
</head>
<body>
<div class="wrap">
  <header>
    <h1>自分のエネルギー量をしらべよう！〈中学生用〉</h1>
  </header>
  <main class="card">
    <div class="input-section">
      <div class="form-row">
        <div class="col">
          <label for="gender">性別</label>
          <select id="gender">
            <option value="boy">男子</option>
            <option value="girl">女子</option>
          </select>
        </div>
        <div class="col">
          <label for="height">身長（cm）</label>
          <input type="number" id="height" min="120" max="210" step="0.1" placeholder="例：160">
        </div>
        <div class="col">
          <label for="weight">体重（kg）</label>
          <input type="number" id="weight" min="20" max="120" step="0.1" placeholder="例：45">
        </div>
      </div>
      <div class="activity-list">
        <div class="act-item"><input type="radio" name="activity" value="1.50"><div><label>I（低い）</label><div class="act-desc">帰宅後は勉強中心・運動習慣なし</div></div></div>
        <div class="act-item"><input type="radio" name="activity" value="1.70" checked><div><label>II（普通）</label><div class="act-desc">通学・授業＋部活や軽い運動</div></div></div>
        <div class="act-item"><input type="radio" name="activity" value="1.90"><div><label>III（高い）</label><div class="act-desc">運動部などで激しく体を動かす日常</div></div></div>
      </div>
    </div>

    <div class="result-section">
      <!-- 現在体重の枠 -->
      <div class="result-box current-box" id="currentBox">
        <div class="section-title">現在体重での目安</div>
        <div class="daily-energy" id="dailyCurrent">-- kcal / 日</div>
        <div class="meal-energy" id="mealCurrent">1食あたり 約 -- kcal</div>
        <div class="calc-info">※計算式: (基礎代謝 × 体重) × 活動レベル + エネルギー蓄積量</div>
      </div>
      <!-- 理想体重の枠 -->
      <div class="result-box ideal-box" id="idealBox">
        <div class="section-title">理想体重（BMI22基準）での目安</div>
        <div class="daily-energy" id="dailyIdeal">-- kcal / 日</div>
        <div class="meal-energy" id="mealIdeal">1食あたり 約 -- kcal</div>
        <div class="calc-info">※計算式: (基礎代謝 × 理想体重) × 活動レベル + エネルギー蓄積量<br>理想体重 = BMI22 × 身長²(m²)</div>
      </div>
      <div class="important">※これはあくまで<strong>目安</strong>です。成長期・個人差・運動の強さなどで変わります。</div>
    </div>
  </main>
</div>

<script>
  const gender = document.getElementById('gender');
  const height = document.getElementById('height');
  const weight = document.getElementById('weight');
  const activityRadios = document.getElementsByName('activity');

  const dailyCurrent = document.getElementById('dailyCurrent');
  const mealCurrent = document.getElementById('mealCurrent');
  const dailyIdeal = document.getElementById('dailyIdeal');
  const mealIdeal = document.getElementById('mealIdeal');

  const baseMetabolism = { boy: 31.0, girl: 29.6 }; // kcal/kg体重/日
  const growthAdd = { boy: 20, girl: 25 }; // エネルギー蓄積量（kcal）

  function calculate() {
    const w = parseFloat(weight.value);
    const h = parseFloat(height.value)/100;
    if(!w || !h){ 
      dailyCurrent.textContent = '-- kcal / 日';
      mealCurrent.textContent = '1食あたり 約 -- kcal';
      dailyIdeal.textContent = '-- kcal / 日';
      mealIdeal.textContent = '1食あたり 約 -- kcal';
      return; 
    }

    const g = gender.value;
    let act;
    for(const r of activityRadios){ if(r.checked){ act = parseFloat(r.value); break; } }

    const base = baseMetabolism[g];
    const add = growthAdd[g];

    // 現在体重
    const dailyCurrentVal = (base*w)*act + add;
    const mealCurrentVal = dailyCurrentVal/3;
    dailyCurrent.textContent = Math.round(dailyCurrentVal).toLocaleString() + ' kcal / 日';
    mealCurrent.textContent = '1食あたり 約 ' + Math.round(mealCurrentVal).toLocaleString() + ' kcal';

    // 理想体重
    const idealWeight = 22*h*h;
    const dailyIdealVal = (base*idealWeight)*act + add;
    const mealIdealVal = dailyIdealVal/3;
    dailyIdeal.textContent = Math.round(dailyIdealVal).toLocaleString() + ' kcal / 日';
    mealIdeal.textContent = '1食あたり 約 ' + Math.round(mealIdealVal).toLocaleString() + ' kcal';
  }

  gender.addEventListener('change', calculate);
  height.addEventListener('input', calculate);
  weight.addEventListener('input', calculate);
  for(const r of activityRadios) r.addEventListener('change', calculate);
</script>
</body>
</html>


